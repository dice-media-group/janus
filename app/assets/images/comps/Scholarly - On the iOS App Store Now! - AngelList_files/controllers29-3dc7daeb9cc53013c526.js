webpackJsonp([597,1054],{1476:function(t,e,n){var o=function(t,e){function n(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;t.exports=Promise.all([new Promise(function(t){t()}).then(n.bind(null,2)),new Promise(function(t){t()}).then(n.bind(null,106)),new Promise(function(t){t()}).then(n.bind(null,33)),new Promise(function(t){t()}).then(n.bind(null,164)),n.e(50).then(n.bind(null,925)),n.e(57).then(n.bind(null,943)),new Promise(function(t){t()}).then(n.bind(null,107)),new Promise(function(t){t()}).then(n.bind(null,52)),n.e(29).then(n.bind(null,853)),n.e(75).then(n.bind(null,1020)),n.e(1044).then(n.bind(null,1779)),n.e(116).then(n.bind(null,1089)),n.e(170).then(n.bind(null,1235)),n.e(224).then(n.bind(null,1351)),n.e(230).then(n.bind(null,1343)),n.e(525).then(n.bind(null,1448)),n.e(49).then(n.bind(null,931)),n.e(91).then(n.bind(null,1088)),n.e(25).then(n.bind(null,849)),new Promise(function(t){t()}).then(n.bind(null,57)),n.e(122).then(n.bind(null,1214))]).then(function(){return function(t,e,n,r,i,s,l,u,c,a,p,h,d,f,_,m,y,w,g){var b,v,k,j,$,C;return C=n.extend({},e.Events),"projectUpdated","projectCreated","projectDeleted","projectDrafted",t.facybox.settings.modal=!0,v=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return o(n,e),n.prototype.events={click:"_toggleLike"},n.prototype.initialize=function(t){return this.isLiked="liked"===this.$el.data("liked"),this.likesUrl=this.$el.data("url"),this.projectId=t.projectId},n.prototype._toggleLike=function(){var e;return t.post(this.likesUrl,{type:"Project",id:this.projectId,action_type:this.isLiked?"destroy":"create"}),this.isLiked=!this.isLiked,e=Number(this.$(".js-like-count").text()),this.isLiked?(this.$(".js-heart").addClass("u-colorError"),this.$(".js-like-count").text(e+1)):(this.$(".js-heart").removeClass("u-colorError"),this.$(".js-like-count").text(e-1))},n}(e.View),k=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return o(n,e),n.prototype.events=function(){return{"click .js-edit-link":"editProject","click .js-add-collaborator":"_onAddCollaboratorClick"}},n.prototype.initialize=function(){return new v({el:this.$(".js-like"),projectId:this.$el.data("id")})},n.prototype.editProject=function(){return t.facybox({ajax:this.$el.data("edit-url")})},n.prototype._onAddCollaboratorClick=function(){return t.facybox({ajax:this.$el.data("new-collaborator-url")})},n}(e.View),j=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return o(r,e),r.prototype.initialize=function(t){return r.__super__.initialize.call(this,n.extend(t,{container:this.$(".js-collaborators-association-container")})),this.delayedPersist=t.delayedPersist,this.$(this.input()).attr("autocomplete","country chromehack")},r.prototype._keypress=function(t){},r.prototype.addAssociation=function(t){return this.delayedPersist?this.collection.add(t):r.__super__.addAssociation.apply(this,arguments)},r.prototype._select=function(e){return e.unmatched?(t(this.input()).val(""),this.trigger("selectUnmatched",e.query)):r.__super__._select.apply(this,arguments)},r}(i.CollaboratorTaggingField),b=function(r){function i(){return i.__super__.constructor.apply(this,arguments)}return o(i,r),i.prototype.SUBMIT_SELECTOR=".js-submit-collaborator",i.prototype.events=function(){return n.extend(i.__super__.events.apply(this,arguments),{"click .js-cancel-new-collaborator":"_closeForm"})},i.prototype.initialize=function(t){return i.__super__.initialize.call(this,n.extend(t,{formEl:this.$(".js-new-collaborator")})),this.taggerClass=t.taggerClass||j,this.collaborationType=this.$el.data("collaboration-type"),this.delayedPersist=this.$el.data("delayed-persist"),this._initializeModel(),this._initializeCollection(),this._initializeTagger()},i.prototype._showForm=function(t){return t&&this.$(".js-new-collaborator-name").val(t),this.tagger.$el.find("input").hide(),this._form().slideDown("fast",function(t){return function(){return t.$(".js-new-collaborator-email").focus()}}(this))},i.prototype._closeForm=function(){return this.tagger.$el.find("input").show(),t(this.tagger.input()).focus(),this._form().slideUp("fast"),this._resetForm()},i.prototype._resetForm=function(){return this._form().find("input").val("")},i.prototype._submit=function(){return this.form.removeErrors(),i.__super__._submit.apply(this,arguments)},i.prototype._submitForm=function(t){var e,n,o;return o=this.$(".js-new-collaborator-name").val(),n=this.$(".js-new-collaborator-email").val(),e=new _({collaboration_id:this.model.id,collaboration_type:this.collaborationType,invited_name:o,invited_email:n,collaborator_to_s:o}),this.delayedPersist?this._handleSuccess(e):e.save(null,{success:function(){return t.success(e)},error:function(e,n){return t.error(n)}})},i.prototype._handleSuccess=function(t){return i.__super__._handleSuccess.apply(this,arguments),this.collection.add(t),this._closeForm()},i.prototype._initializeModel=function(){var t;return t=function(){switch(this.collaborationType){case"Project":return d;case"JobListing":return m;case"NewTagging":return y;case"Degree":return w}}.call(this),this.model=new t({id:this.$el.data("collaboration-id")})},i.prototype._initializeCollection=function(){return this.collection=new e.Collection([],{model:_}),this.collection.add(this.$el.data("collaborator-taggings")),this.listenTo(this.collection,"add remove",function(t){return function(){return t.$el.data("collaborator-taggings",t.collection.toJSON())}}(this))},i.prototype._initializeTagger=function(){return this.tagger=new this.taggerClass({el:this.$(".js-collaborator-autocomplete"),model:this.model,collection:this.collection,unmatched:!0,delayedPersist:this.delayedPersist}),this.listenTo(this.tagger,"selectUnmatched",function(t){return function(e){return t._showForm(e)}}(this))},i.prototype._keyDown=function(t){return 13===t.keyCode&&this.$(t.target).is(".js-new-collaborator-email")?this._submit():i.__super__._keyDown.apply(this,arguments)},i}(a.SimpleForm),$=function(e,n,o){return n?t.ajax({url:n,type:"post",success:function(){return o()}}):new _({id:e}).destroy({success:function(){return o()}})},{show:function(n,r){return new(function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return o(n,e),n.prototype.events={"click .js-edit-link":"editProject","click .js-comments-button":"scrollToComments"},n.prototype.initialize=function(){return this.projectId=this.$el.data("id"),this.listenTo(C,"projectUpdated",function(t){return window.location.reload()}),this.listenTo(C,"projectDeleted",function(t){return function(e){if(t.$el.data("back-url"))return window.location=t.$el.data("back-url")}}(this)),new v({el:this.$(".js-like-link"),projectId:this.projectId})},n.prototype.editProject=function(){return t.facybox({ajax:this.$el.data("edit-url")})},n.prototype.scrollToComments=function(){var e,n;if(e=this.$(".js-comments-heading").offset())return n=e.top,t("html, body").animate({scrollTop:n},200)},n}(e.View))({el:r})},profile_show:function(e,r){return new(function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return o(r,k),r.prototype.events=function(){return n.extend(r.__super__.events.apply(this,arguments),{"click .js-confirm-link":"_onConfirmClick","click .js-delete-link":"_onDeleteClick"})},r.prototype.initialize=function(){return r.__super__.initialize.apply(this,arguments),this.listenTo(C,"projectDeleted",function(t){return function(e){if(e===t.$el.data("id"))return t._onDelete()}}(this))},r.prototype._onDeleteClick=function(){return $(this.$el.data("collaborator-tagging-id"),this.$el.data("destroy-url"),function(t){return function(){return t._onDelete()}}(this))},r.prototype._onDelete=function(){return this.$el.slideUp("fast",function(t){return function(){return t.remove()}}(this))},r.prototype._onConfirmClick=function(t){return this.$(t.target).addClass("c-button--loading"),this._confrmTagging(function(t){return function(){return t.$(".js-confirm-controls").hide(),t.$(".js-edit-controls").show(),t.editProject()}}(this))},r.prototype._confrmTagging=function(e){return t.ajax({url:this.$el.data("confirm-url"),type:"post",success:function(t){return e()}})},r}())({el:r})},collaborator_form:function(t,e){return new b({el:e})},big_collaborator_form:function(t,e){var n;return n=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return o(n,j),n.prototype.tpl=t(".js-collaborator-tpl").html().trim(),n.prototype.renderAssociation=function(t){return h.render(this.tpl,{url:t.get("collaborator_slug_url"),name:t.get("collaborator_to_s"),avatar:t.get("collaborator_avatar")})},n}(),new b({el:e,taggerClass:n})},collaborator_details_form:function(e,n){return new(function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return o(n,e),n.prototype.events={"change .js-date-select":"_onDateSelectChange"},n.prototype.initialize=function(){return this._onDateSelectChange()},n.prototype._onDateSelectChange=function(){var e,n,o,r,i;for(r=[],e=0,n=(o=this.$(".js-date-select")).length;e<n;e++)i=o[e],r.push(t(i).parent().next().toggle(""!==t(i).val()));return r},n.prototype.render=function(){return n.__super__.render.apply(this,arguments),this.$container.toggle(this.collection.length>0)},n}(a.PartialForm))({el:n})},form:function(e,r){var i;return i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.initialize=function(t){return this.associationTemplate=t.associationTemplate,this.warning=t.warning,e.__super__.initialize.apply(this,arguments)},e.prototype.removeAssociation=function(t){var n;return e.__super__.removeAssociation.apply(this,arguments),null!=(n=this.warning)?n.show():void 0},e.prototype.renderAssociation=function(t){var e,o;return null!=(o=this.warning)&&o.hide(),e={name:t.get("company_name"),url:t.get("slug_url"),photo:t.get("logo_url"),allowDelete:this.isEditable()},n.template(this.associationTemplate.trim(),e,{interpolate:/\{\{(.+?)\}\}/g,escape:/\{\{\-(.+?)\-\}\}/g})},e}(s.StartupField),new(function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return o(r,e),r.prototype.events=function(){return n.extend(r.__super__.events.apply(this,arguments),{"click .js-cancel":"_onCancel","click .js-delete":"_onDelete","click .js-edit-details":"_onEditDetails"})},r.prototype.initialize=function(){return this.focus(),this.draft=this.$el.data("draft"),this.projectId=this.$el.data("id"),this.form=new a.PartialForm({el:this.$(".js-project-form")}),this._initializeStartupField(),this._trackCollaboratorCount()},r.prototype.focus=function(){var e,n,o,r,i,s;for(s=[],n=0,r=(i=this.$('textarea,input[type="text"]').filter(":visible")).length;n<r;n++)if(o=i[n],!((e=t(o)).val().trim().length>0)){e.focus();break}return s},r.prototype._initializeStartupField=function(){var t;if((t=this.$(".js-startup-tagger")).length>0)return new i({el:t,associationTemplate:this.$(".js-startup-template").html()})},r.prototype._submit=function(){return this.form.removeErrors(),this.$el.data("require-collaborators")&&this.collaboratorCount<=0?(this.form._setInputError(this.$(".js-collaborator-form"),this.$el.data("no-collaborators-error")),this.form.scrollToErrors()):(r.__super__._submit.apply(this,arguments),this._toggleCancelLink(!1))},r.prototype._handleSuccess=function(e){return t.facybox.close(),C.trigger(this.draft?"projectCreated":"projectUpdated",this.projectId),r.__super__._handleSuccess.apply(this,arguments)},r.prototype._handleError=function(t){return r.__super__._handleError.apply(this,arguments),this._toggleCancelLink(!0),this.form.handleErrors(t),this.form.scrollToErrors()},r.prototype._form=function(){return this.$(".js-form")},r.prototype._onCancel=function(){return t.facybox.close()},r.prototype._onDelete=function(){if(confirm(this.$el.data("destroy-confirm")))return t.facybox.close(),$(this.$el.data("collaborator-tagging-id"),this.$el.data("destroy-url"),function(t){return function(){return C.trigger("projectDeleted",t.projectId)}}(this))},r.prototype._onEditDetails=function(e){return t(e.target).hide(),this.$(".js-project-form").slideDown()},r.prototype._toggleCancelLink=function(t){return this.$(".js-cancel").toggle(t)},r.prototype._trackCollaboratorCount=function(){return this.collaboratorCount=0,u.with(this._collaboratorForm(),function(t){return function(e){return t.collaboratorCount=e.collection.length,t.listenTo(e.collection,"add remove",function(){if(t.collaboratorCount=e.collection.length,t.collaboratorCount>0)return l.clearInputError(t.$(".js-collaborator-form"))})}}(this))},r.prototype._collaboratorForm=function(){var t;return(t=this.$(u.selector("projects/collaborator_form"))).length>0?t:this.$(u.selector("projects/big_collaborator_form"))},r}(a.FormContainer))({el:r})},display:function(n,r){return n(".tiptip").qtip(),n(".screenshots").magnificPopup({delegate:".screenshot",type:"image",gallery:{enabled:!0}}),new(function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return o(n,e),n.prototype.events={"click .js-add-collaborator":"_onAddCollaboratorClick"},n.prototype._onAddCollaboratorClick=function(){return t.facybox({ajax:this.$el.data("new-collaborator-url")})},n}(e.View))({el:r})},profile:function(n,r){return new(function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return o(n,e),n.prototype.initialize=function(){return this.listenTo(C,"projectUpdated",function(t){return function(e){return t.reload(e)}}(this)),this.listenTo(C,"projectCreated",function(t){return function(e){return t.reload(e,!0),t.reloadProfileCompleteness()}}(this)),this.reloadUrl=this.$el.data("reload-url")},n.prototype.reload=function(e,n){return t.ajax({url:this.reloadUrl,dataType:"json",success:function(t){return function(o){if(t.$(".js-projects-container").html(o.html),n)return t._scrollToProject(e)}}(this)})},n.prototype.reloadProfileCompleteness=function(){var e;if((e=t(u.selector("profiles/show/completeness"))).length)return u.with(e,function(t){return t.reload("projects")})},n.prototype._scrollToProject=function(e){var n,o,r,i,s;for(s=[],o=0,r=(i=t(u.selector("projects/show"))).length;o<r;o++){if(n=i[o],t(n).data("id")===e){t("html, body").animate({scrollTop:t(n).offset().top-100},200);break}s.push(void 0)}return s},n}(e.View))({el:r})},add:function(e,r){return new(function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return o(r,e),r.prototype.events=function(){return n.extend(r.__super__.events.apply(this,arguments),{"focus .js-title":"_onFocus","click .js-cancel":"_resetForm"})},r.prototype.initialize=function(){return r.__super__.initialize.apply(this,arguments),this.userId=this.$el.data("user-id")},r.prototype._submitForm=function(t){return this._withCollaboratorCollection(function(e){return function(o){return e._form().ajaxSubmit(n.extend(t,{data:{collaborators_json:o.toJSON()}}))}}(this))},r.prototype._handleSuccess=function(e){return r.__super__._handleSuccess.apply(this,arguments),t.facybox(e.html),this._resetForm()},r.prototype._focus=function(){return this.$('input[type="text"]').first().focus()},r.prototype._onFocus=function(){return this.$(".js-project-details").slideDown("fast")},r.prototype._resetForm=function(){return this.$('input[type="text"]').val(""),this.$(".js-project-details").slideUp("fast"),this._withCollaboratorCollection(function(t){return t.reset()})},r.prototype._withCollaboratorCollection=function(t){return u.with(this.$(u.selector("projects/collaborator_form")),function(e){return t(e.collection)})},r}(a.SimpleForm))({el:r})},add_launch:function(e,n){return new(function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return o(n,e),n.prototype._handleSuccess=function(e){return n.__super__._handleSuccess.apply(this,arguments),C.trigger("projectDrafted"),t.facybox(e.html),this._resetForm()},n.prototype._resetForm=function(){return this.$('input[type="text"]').val("")},n.prototype._keyDown=function(t){return 13===t.keyCode?this._submit():n.__super__._keyDown.apply(this,arguments)},n}(a.SimpleForm))({el:n})},image_upload:function(t,n){var o;return o=new e.Collection([],{model:f}),new p.ScreenshotUploader({el:t(".js-screenshot-uploader"),url:n.data("upload-url"),collection:o,screenshotUploadTemplate:t(".js-upload-tpl").html()}),new p.ScreenshotManager({el:t(".js-screenshot-manager"),collection:o,screenshotViewTemplate:t(".js-screenshot-tpl").html(),sortable:!0}).on("reordered",function(t){return new d({id:n.data("id")}).save({image_locations:t.join(",")},{patch:!0})})},new_collaborators:function(n,r){return new(function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return o(n,e),n.prototype.events={"click .js-close":"_onCloseClick"},n.prototype.initialize=function(){return this.projectId=this.$el.data("project-id"),this.focus()},n.prototype.focus=function(){return u.with(this.$(u.selector("projects/collaborator_form")),function(t){return t.$el.find("input").focus()})},n.prototype._onCloseClick=function(){return t.facybox.close(),C.trigger("projectUpdated",this.projectId)},n}(e.View))({el:r})},launches:function(n,r){return new(function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return o(n,e),n.prototype.events={"click .js-show-all-launches":"showAllLaunches"},n.prototype.initialize=function(){if(this.reloadUrl=this.$el.data("reload-url"),this.listenTo(C,"projectUpdated projectCreated",function(t){return function(e){return t.reload(e)}}(this)),this.listenTo(C,"projectDeleted",function(t){return function(e){return t._removeRow(e)}}(this)),this.$el.data("highlighted-launch-id"))return this.highlightLaunch(this.$el.data("highlighted-launch-id"))},n.prototype.reload=function(e){return t.ajax({url:this.reloadUrl,dataType:"json",data:{launch_id:e},success:function(t){return function(e){return t.$el.parent().append(e.html),t.remove()}}(this)})},n.prototype.showAllLaunches=function(){return this.$(".js-show-all-launches").parent().hide(),this.$(".js-launch-row").show()},n.prototype.highlightLaunch=function(e){var n;if((n=this._rowElement(e)).is(":visible")||this.showAllLaunches(),!n.is(":appeared"))return t("html, body").animate({scrollTop:n.offset().top-100},200)},n.prototype._rowElement=function(t){return this.$(".js-launch-row[data-id='"+t+"']")},n.prototype._removeRow=function(t){var e;return(e=this._rowElement(t)).slideUp("fast",function(){return u.with(e.find(u.selector("projects/launch_row")),function(t){return t.remove()})})},n}(e.View))({el:r})},launch_row:function(t,e){return new k({el:e})},events:function(){return C}}}.apply(void 0,arguments[0])}.bind(this))},2619:function(t,e,n){function o(t){return n(r(t))}function r(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var i={"./projects":1476,"./projects/comments":2620,"./projects/launch_feed":2622,"./qa":2623,"./quizzes":2625};o.keys=function(){return Object.keys(i)},o.resolve=r,t.exports=o,o.id=2619},2620:function(t,e,n){var o=function(t,e){function n(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;t.exports=Promise.all([new Promise(function(t){t()}).then(n.bind(null,2)),new Promise(function(t){t()}).then(n.bind(null,33)),new Promise(function(t){t()}).then(n.bind(null,106)),n.e(75).then(n.bind(null,1020)),new Promise(function(t){t()}).then(n.bind(null,52)),n.e(105).then(n.bind(null,1152)),n.e(1026).then(n.bind(null,2621))]).then(function(){return function(t,e,n,r,i,s,l){var u,c;return u=function(t,n){var o;return o={interpolate:/\{\{(.+?)\}\}/g,evaluate:/\{\-(.+?)\-\}/g,escape:/\{\{\-(.+?)\-\}\}/g},e.template(t,n,o)},c=e.extend({},n.Events),"commentCreated",{index:function(t,e){var r;return r=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return o(n,e),n.prototype.template=t(".js-comment-show-template").html(),n.prototype.events={"click .js-destroy-comment":"_onDestroyClick"},n.prototype.initialize=function(){return this.render()},n.prototype.render=function(){return this.$el.html(u(this.template,this.model.toJSON()))},n.prototype._onDestroyClick=function(){return this.model.destroy(),this.$el.slideUp("fast",function(t){return function(){return t.remove()}}(this))},n}(n.View),new(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.initialize=function(){var t;return this.collection=new n.Collection([],{model:l}),this.listenTo(this.collection,"add",function(t){return function(e){return t._onCollectionAdd(e)}}(this)),(t=JSON.parse(this.$(".js-existing-comments").html())).length>0&&this.collection.add(t),this.listenTo(c,"commentCreated",function(t){return function(e){return t.collection.add(e)}}(this))},e.prototype._onCollectionAdd=function(t){var e;return e=new r({model:t}),this.$(".js-comments").append(e.$el)},e}(n.View))({el:e})},new:function(t,e){return new(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.initialize=function(t){return e.__super__.initialize.apply(this,arguments),this.mentions=new s.Autocomplete({el:this.$(".js-mentions-container"),target:this.$(".js-mentions-input")})},e.prototype._handleSuccess=function(t){return e.__super__._handleSuccess.apply(this,arguments),c.trigger("commentCreated",t),this._reset()},e.prototype._submitForm=function(t){var e;return(e=new l({project_id:this.$el.data("project-id"),body:this.$(".js-mentions-input").val()})).save(null,{success:function(){return t.success(e)},error:function(e,n){return t.error(n)}})},e.prototype._reset=function(){return this.form.removeErrors(),this.$("textarea").val(""),this.mentions.render()},e}(r.SimpleForm))({el:e})}}}.apply(void 0,arguments[0])}.bind(this))},2622:function(t,e,n){(function(e){var o=function(t,e){function n(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;t.exports=Promise.all([new Promise(function(t){t()}).then(n.bind(null,2)),new Promise(function(t){t()}).then(n.bind(null,106)),n.e(80).then(n.bind(null,1070)),new Promise(function(t){t()}).then(n.bind(null,52)),n.e(116).then(n.bind(null,1089)),n.e(170).then(n.bind(null,1235)),n.e(25).then(n.bind(null,849))]).then(function(){return function(t,n,r,i,s,l,u){var c,a,p;return p=e.extend({},n.Events),"filterChanged","facetChanged","rowWillExpand",a=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return o(n,e),n.prototype.events={click:"_toggleLike"},n.prototype.initialize=function(){return n.__super__.initialize.apply(this,arguments),this.listenTo(this.model,"change:liked",function(t){return function(){return t.render()}}(this))},n.prototype._toggleLike=function(e){return null!=e&&e.stopPropagation(),t.post(this.$el.data("url"),{type:"Project",id:this.model.id,action_type:this.model.get("liked")?"destroy":"create"}),this.model.set("liked",!this.model.get("liked"))},n.prototype.render=function(){return this.model.get("liked")?(this.$(".js-heart").addClass("u-colorError"),this._renderLikeCount(1)):(this.$(".js-heart").removeClass("u-colorError"),this._renderLikeCount(-1))},n.prototype._renderLikeCount=function(t){var e;return e=Number(this.$(".js-like-count").text()),this.$(".js-like-count").text(e+t)},n}(n.View),c=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return o(i,n),i.prototype.initialize=function(){return this.menu=this.$(".js-dropdown-menu"),new r(this.$el,this.menu),this.facet=this.$el.data("facet"),e.bindAll(this,"_facetSelected"),this.$(".js-facet").click(this._facetSelected)},i.prototype.selectedFacet=function(){var t;return t={},t[this.facet]=this.$(".js-selected-facet").data("value"),t},i.prototype._facetSelected=function(e){var n;return n=t(e.target),this._setValue(n.html(),n.data("value"))},i.prototype._keywordAdded=function(t){if(t.ki_name===this.facet)return this._setValue(t.keyword,t.keyword)},i.prototype._setValue=function(t,e){if(this.menu.hide(),this.$(".js-selected-facet").data("value")!==e)return this.$(".js-selected-facet").data("value",e).html(t),this.trigger("facetChanged",this.selectedFacet())},i}(n.View),{header:function(t,e){return new(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.initialize=function(){return this._initializeDropdowns()},e.prototype._initializeDropdowns=function(){var t,e,n,o,r,i;for(i=[],e=0,n=(r=this.$(".js-facet-dropdown")).length;e<n;e++)o=r[e],t=new c({el:o}),i.push(this.listenTo(t,"facetChanged",function(t){return p.trigger("filterChanged",t)}));return i},e}(n.View))({el:e})},top:function(r,i){return new(function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return o(r,n),r.prototype.initialize=function(){return this.totalPages=this.$el.data("pages"),this.filters=this.$el.data("filters"),this.currentPage=0,this.fetchUrl=this.$el.data("fetch-url"),t(window).scroll(function(t){return function(){return t._onScroll()}}(this)),this.listenTo(p,"filterChanged",function(t){return function(e){return t._onFilterChanged(e)}}(this))},r.prototype._onScroll=function(){var e;if(e=t(document).height()-t(window).height()-700,!(t(window).scrollTop()<=e))return this._fetchNextPage()},r.prototype._onFilterChanged=function(t){return this.filters=e.extend(this.filters,t),this._cancelFetch(),this._fetch(0).done(function(t){return function(e){return t.currentPage=0,t.totalPages=e.total_pages,t.$(".js-launches-container").html(e.html)}}(this))},r.prototype._fetchNextPage=function(){var t;if(!(this.currentPage>=this.totalPages-1)&&(t=this._fetch(this.currentPage+1)))return t.done(function(t){return function(e){return t.currentPage+=1,t.$(".js-launches-container").append(e.html)}}(this))},r.prototype._fetch=function(n){if(!this.request)return this.request=t.ajax({url:this.fetchUrl,data:e.extend(this.filters,{page:n})}),this.request.done(function(t){return function(){return delete t.request}}(this))},r.prototype._cancelFetch=function(){var t;return null!=(t=this.request)&&t.abort(),this.request=void 0},r}(n.View))({el:i})},top_interval:function(e,r){return new(function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return o(n,e),n.prototype.events={"click .js-show-all-launches":"_onClickShowAllLaunches"},n.prototype._onClickShowAllLaunches=function(e){return t(e.target).parent().hide().siblings().show()},n}(n.View))({el:r})},recent:function(t,e){},row:function(e,r){return new(function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return o(n,e),n.prototype.events={click:"_onRowClick"},n.prototype.initialize=function(){return this._likeButton=new a({el:this.$(".js-like"),model:this.launch()})},n.prototype.launch=function(){return this._launch||(this._launch=u.get(l).bootstrap({id:this.$el.data("id"),url:this.$el.data("url"),title:this.$(".js-launch-title").text().trim(),short_summary:this.$(".js-launch-summary").text().trim(),liked:this.$el.data("liked")}))},n.prototype.expand=function(){if(!this.expanded)return p.trigger("rowWillExpand"),this.listenToOnce(p,"rowWillExpand",function(t){return function(){return t._toggleExpanded(!1)}}(this)),this._createExpandedRow().done(function(t){return function(){return t._toggleExpanded(!0)}}(this))},n.prototype.collapse=function(){return this._toggleExpanded(!1)},n.prototype._createExpandedRow=function(){var e;return e=t.Deferred(),this.expandedRow?e.resolve(this.expandedRow):i.with(t(i.selector("projects/launch_feed/expanded_row")),function(t){return function(n){return t.expandedRow=new n({model:t.launch()}),t.$(".js-expanded-row").html(t.expandedRow.$el),e.resolve(t.expandedRow)}}(this)),e},n.prototype._onRowClick=function(){if(!this.expanded)return this.expand()},n.prototype._toggleExpanded=function(t){return this.expanded=t,this.$el.toggleClass("expanded",this.expanded).toggleClass("collapsed",!this.expanded),this.expanded?this.expandedRow.showDetails():this.expandedRow.hideDetails()},n}(n.View))({el:r})},expanded_row:function(e,r){var i;return i=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,a),e.prototype.initialize=function(t){return e.__super__.initialize.apply(this,arguments),this.render()},e.prototype._renderLikeCount=function(){return this.$(".js-like-text").text(this.model.get("liked")?"Liked":"Like")},e}(),function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return o(r,n),r.prototype.tpl=e(".js-expanded-row-tpl").html().trim(),r.prototype.initialize=function(){return this.render(),this._fetchDetails(),new i({el:this.$(".js-like"),model:this.model})},r.prototype.render=function(){return this.$el.html(s.render(this.tpl,this.model.toJSON()))},r.prototype.showDetails=function(){if(t("html,body").animate({scrollTop:this.$el.offset().top-20},"fast"),this.fetched)return this.$(".js-launch-details").slideDown()},r.prototype.hideDetails=function(){if(this.fetched)return this.$(".js-launch-details").hide()},r.prototype._fetchDetails=function(){return t.get(this._detailsURL()).done(function(t){return function(e){return t.fetched=!0,t.$(".js-launch-details").html(e.html),t.showDetails()}}(this))},r.prototype._detailsURL=function(){return this.$(".js-launch-details").data("url").replace(":id",this.model.id)},r}(n.View)},launch_details:function(t,e){return new(function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e}(n.View))({el:e})}}}.apply(void 0,arguments[0])}.bind(this))}).call(e,n(33))},2623:function(t,e,n){(function(e){var o=function(t,e){return function(){return t.apply(e,arguments)}},r=function(t,e){function n(){this.constructor=t}for(var o in e)i.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;t.exports=Promise.all([new Promise(function(t){t()}).then(n.bind(null,106)),n.e(120).then(n.bind(null,1240)),new Promise(function(t){t()}).then(n.bind(null,33)),new Promise(function(t){t()}).then(n.bind(null,107)),new Promise(function(t){t()}).then(n.bind(null,52)),n.e(25).then(n.bind(null,849)),n.e(229).then(n.bind(null,1470)),n.e(1024).then(n.bind(null,2624)),n.e(526).then(n.bind(null,1802)),n.e(517).then(n.bind(null,1801)),n.e(61).then(n.bind(null,974)),n.e(84).then(n.bind(null,1135)),new Promise(function(t){t()}).then(n.bind(null,108))]).then(function(){return function(t,n,i,s,l,u,c,a,p,h,d,f,_){var m;return m=function(t,n){return null==n&&(n={}),function(o,r){var i,l,u,c;return l=null,c=function(){},i=o("form"),u=s.loadingOptions(i,{dataType:"json",beforeSend:function(){return e(":submit",i).attr("disabled",!0)},beforeSubmit:function(){if(n.before_submit)return n.before_submit(o)},success:function(e){return l.add(new t(e)),i.find("textarea").val(""),c()}}),i.ajaxForm(u),n.after_setup&&n.after_setup(o),{set_collection:function(t){return l=t},set_success_callback:function(t){return c=t}}}},{qa_list:function(s,u){var c,p,f,m,y,w,g,b,v;if(e(".launch_modal").click(function(t){var n,o,r;return n=new d,r=e(t.target).data("type"),o="signup"===r?"Sign up":"Log in",n.open({header_msg:o+" to ask questions",first_view:"modal_"+r}),d.off("user_logged_in"),d.on("user_logged_in",function(){return window.location.reload()}),t.stopImmediatePropagation(),t.preventDefault()}),p=function(t){function e(){return this._remove=o(this._remove,this),e.__super__.constructor.apply(this,arguments)}return r(e,t),e.prototype.initialize=function(){return this._list_selector=this.list_selector||"> ul",this.collection.on("add remove change",this.render,this)},e.prototype.events={"click .remove":"_remove"},e.prototype._remove=function(t){var e,n;if(!(e=this.$(t.currentTarget).data("id")))throw"No ID found";return n=this.collection.get(e),this.$(t.currentTarget).closest("li").fadeOut(function(){return n.destroy()}),!1},e.prototype._item_views=[],e.prototype._get_item_view=function(t){var e;return(e=i.findWhere(this._item_views,{model:t}))||(e=new this.item_view_class({tagName:"li",model:t}),this._item_views.push(e)),e},e.prototype.render=function(){return this.render_self(),this.collection.each(function(t){return function(e){var n;return(n=t._get_item_view(e)).render(),t.$el.find(t._list_selector).append(n.el)}}(this)),this.delegateEvents()},e.prototype.render_self=function(){return this.$el.html(this.template({}))},e}(t.View),c=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return r(e,t),e.prototype.template=n.compile(u.find("> .data").data("answer_template")),e.prototype.list_selector="> * > ul.follow_ups",e.prototype.events={"click .answer_edit_link":"toggle_edit_form","click .answer_edit_submit":"update_answer"},e.prototype.initialize=function(){return this.model.on("change",this.render,this)},e.prototype.toggle_edit_form=function(){return this.model.set("editing_answer",!this.model.get("editing_answer")),this.$el.find(".answer_text_area").focus()},e.prototype.update_answer=function(){var t;return t=this.$el.find(".answer_text_area").val(),this.model.set("text",t),this.model.save(),this.model.set("editing_answer",!1)},e.prototype.render=function(){return this.$el.html(this.template(this.model.attributes)),this.delegateEvents()},e}(t.View),m=function(t){function i(){return this.render_self=o(this.render_self,this),this.unsubscribe=o(this.unsubscribe,this),this.subscribe=o(this.subscribe,this),this.unhide_question=o(this.unhide_question,this),this.hide_question=o(this.hide_question,this),this.make_private=o(this.make_private,this),this.make_public=o(this.make_public,this),this.destroy_question=o(this.destroy_question,this),this.destroy_comment=o(this.destroy_comment,this),this.hide_comments=o(this.hide_comments,this),this.show_comments=o(this.show_comments,this),this.toggle_answer_form=o(this.toggle_answer_form,this),i.__super__.constructor.apply(this,arguments)}return r(i,p),i.prototype.template=n.compile(u.find("> .data").data("question_template")),i.prototype.list_selector="> * > .responses > ul.answers",i.prototype.initialize=function(){return this.item_view_class=c,this.collection=this.model.get("answers"),p.prototype.initialize.apply(this),this.model.on("change",this.render,this),this.model.get("comments").on("add remove change",this.render,this)},i.prototype.events={"click .answer_link":"toggle_answer_form","click .comment_link":"show_comments","click .hide_comments_link":"hide_comments","click .destroy_comment_link":"destroy_comment","click .destroy_link":"destroy_question","click .hide_link":"hide_question","click .unhide_link":"unhide_question","click .subscribe_link":"subscribe","click .unsubscribe_link":"unsubscribe","click .make_public_link":"make_public","click .make_private_link":"make_private"},i.prototype.toggle_answer_form=function(t){return this.model.set("show_answer_form",!this.model.get("show_answer_form")),t.stopImmediatePropagation(),t.preventDefault()},i.prototype.show_comments=function(t){if(t.stopImmediatePropagation(),t.preventDefault(),!this.model.get("show_comments"))return this.$el.find(".comments").slideDown(function(t){return function(){return t.model.set("show_comments",!0)}}(this))},i.prototype.hide_comments=function(t){if(t.stopImmediatePropagation(),t.preventDefault(),this.model.get("show_comments"))return this.$el.find(".comments").slideUp(function(t){return function(){return t.model.set("show_comments",!1)}}(this))},i.prototype.destroy_comment=function(t){return t.stopImmediatePropagation(),t.preventDefault(),this.model.get("comments").findWhere({id:e(t.target).data("id")}).destroy()},i.prototype.destroy_question=function(t){if(t.stopImmediatePropagation(),t.preventDefault(),window.confirm("Are you sure you want to delete this question and all its answers and comments?"))return this.model.destroy()},i.prototype.make_public=function(t){return t.stopImmediatePropagation(),t.preventDefault(),this.model.save({private:!1},{patch:!0})},i.prototype.make_private=function(t){return t.stopImmediatePropagation(),t.preventDefault(),this.model.save({private:!0},{patch:!0})},i.prototype.hide_question=function(t){return t.stopImmediatePropagation(),t.preventDefault(),this.model.save({hidden:!0},{patch:!0})},i.prototype.unhide_question=function(t){return t.stopImmediatePropagation(),t.preventDefault(),this.model.save({hidden:!1},{patch:!0})},i.prototype.subscribe=function(t){var e;return t.stopImmediatePropagation(),t.preventDefault(),(e=new h).save({subscribable_id:this.model.id,subscribable_type:"Question"},!0,{patch:!0}),this.model.set({subscription:e})},i.prototype.unsubscribe=function(t){return t.stopImmediatePropagation(),t.preventDefault(),this.model.get("subscription").destroy(),this.model.unset("subscription")},i.prototype.render_self=function(){var t;return this.model.get("hidden")&&(t={hidden_question:"hidden_question"}),this.$el.html(this.template(e.extend({},this.model.attributes,t))),l.with(this.$el.find(l.selector("qa/answer_form")+":first"),function(t){return function(e){return e.set_collection(t.collection),e.set_success_callback(function(){return t.model.set("show_answer_form",!1)})}}(this)),l.with(this.$el.find(l.selector("qa/qa_comment_form")+":first"),function(t){return function(e){return e.set_collection(t.model.get("comments"))}}(this)),e(".qtip-default:visible").hide(),_.init(this.$el),this.$("a[rel*=facybox]").facybox()},i}(),f=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return r(e,p),e.prototype.template=n.compile(s(".templates > .list_template").html()),e.prototype.item_view_class=m,e.prototype.list_selector=".qa_list > ul",e.prototype.events={"click .qa_hidden":"unhide_hidden"},e.prototype.unhide_hidden=function(){return this._show_hidden="show_hidden",this.render()},e.prototype.render_self=function(){var t;return t=this.collection.where({hidden:!0}).length,this.$el.html(this.template({num_hidden:t,show_hidden:this._show_hidden}))},e}(),b=u.find("> .data").data("questions"),v=new(t.Collection.extend({model:a,comparator:function(t){return t.get("hidden")?1:0}}))(b),(y=new f({el:s(".qa_container"),collection:v})).render(),l.with(s(l.selector("qa/question_form")+":first"),function(t){return t.set_collection(v)}),(w=window.location.href.match(/question_id=(\d+)/))&&(g=e(".question_"+w[1])).length>0)return g.is(":visible")||y.unhide_hidden(),e.scrollTo(e(".question_"+w[1]))},answer_form:m(p),qa_comment_form:m(c),question_form:m(a,{after_setup:function(t){return t(".make_anonymous_link").click(function(){return t(".details").addClass("anonymous"),t(".anon_field").val(!0)}),t(".make_public_link").click(function(){return t(".details").removeClass("anonymous"),t(".anon_field").val(!1)})}}),link:function(t,e){return t("textarea").select()}}}.apply(void 0,arguments[0])}.bind(this))}).call(e,n(2))},2625:function(t,e,n){(function(e){var o=function(t,e){function n(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;t.exports=Promise.all([new Promise(function(t){t()}).then(n.bind(null,2)),new Promise(function(t){t()}).then(n.bind(null,106)),new Promise(function(t){t()}).then(n.bind(null,107)),new Promise(function(t){t()}).then(n.bind(null,52)),n.e(911).then(n.bind(null,2626)),n.e(149).then(n.bind(null,1345)),n.e(22).then(n.bind(null,844))]).then(function(){return function(t,n,r,i,s,l,u){var c;return c=e.extend({},n.Events),{questions:function(e,i){var l;return l=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return o(n,e),n.prototype.events={"click .js-choice-button":"onChoiceButtonClick","click .js-skip-button":"onSkipButtonClick","click .js-submit-button":"onSubmitButtonClick"},n.prototype.initialize=function(){var e,n;if(t(window).bind("beforeunload",function(t){return function(){return t.onBrowseAway()}}(this)),(e=this.$(".js-text-area")).length&&new r.CharacterCounter({el:e,container:this.$(".js-character-counter"),max:parseInt(e.attr("maxlength"))}),n=function(e){return function(n){var o;if(!(n.value<=0))return o=n.seconds<10?"0":"",t(".js-remaining-time").html(n.minutes+":"+o+n.seconds+" remaining").toggleClass("u-colorError",n.value<=3e4);e._moveOn()}}(this),null!=this.$el.data("time_limit"))return this.countdown=s(n,(new Date).getTime()+1e3*this.$el.data("time_limit"),s.MINUTES|s.SECONDS)},n.prototype.onBrowseAway=function(t){if(!this.movingOn)return"If you leave you won't be able to re-take the quiz."},n.prototype.onChoiceButtonClick=function(e){return this._answer(t.trim(t(e.target).text()),!1)},n.prototype.onSubmitButtonClick=function(e){return this._answer(t.trim(this.$(".js-text-area").val()),!1)},n.prototype.onSkipButtonClick=function(t){return this._answer(null,!0),!1},n.prototype._answer=function(e,n){return t(".js-question").hide(),t(".js-loading").show(),t.ajax({type:"post",url:this.$el.data("answer_path"),data:{id:this.$el.data("slug"),question_id:this.$el.data("question_id"),answer:e,skip:n},success:function(t){return function(e){return t._moveOn()}}(this)})},n.prototype._moveOn=function(){return this.movingOn=!0,location.reload()},n}(n.View),new l({el:i,vent:c})},form:function(e,r){var i;return i=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return o(n,e),n.prototype.events={"change .js-multiple-check-box":"onQuestionTypeChanged"},n.prototype.onQuestionTypeChanged=function(e){return this.$(".js-multiple-choice").toggle(t(e.target).prop("checked"))},n}(n.View),new i({el:r,vent:c})},results:function(e,r){var i;return i=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return o(r,n),r.prototype.events={"click .js-answers-link":"onAnswersClicked","click .js-profile-link":"onProfileClicked"},r.prototype.onAnswersClicked=function(n){var o;return o=t(n.target),e(this).addClass("loading"),t.get(o.attr("href"),{},function(t){return function(n){return e(t).removeClass("loading"),e(".js-result-pane").html(n)}}(this)),!1},r.prototype.onProfileClicked=function(n){var o;return o=t(n.target),e(this).addClass("loading"),t.get(o.attr("href"),{},function(t){return function(n){return e(t).removeClass("loading"),e(".js-result-pane").html(n)}}(this)),!1},r}(n.View),new i({el:r,vent:c})},quiz_profile:function(e,r){var i;return i=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return o(r,n),r.prototype.events={"click .js-answers-link":"onAnswersClicked"},r.prototype.onAnswersClicked=function(n){var o;return e(".js-result-pane").show(),o=t(n.target),e(this).addClass("loading"),t.get(o.attr("href"),{},function(t){return function(n){return e(t).removeClass("loading"),e(".js-result-pane").html(n)}}(this)),!1},r}(n.View),new i({el:r,vent:c})},index:function(e,r){var i;return i=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return o(n,e),n.prototype.events={"click .js-delete-button":"onDeleteButtonClicked"},n.prototype.onDeleteButtonClicked=function(e){var n;if(n=e.target,confirm("Are you sure you want to delete this quiz? All results will be lost."))return t.ajax({url:t(n).data("delete_quiz_path"),type:"DELETE",success:function(){return t(n).parent().parent().remove()}})},n}(n.View),new i({el:r,vent:c})},quiz_cta:function(t,e){var r;return r=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.events={"click .js-try-quiz-button":"onClickTryQuiz"},e.prototype.initialize=function(){if(this.$el.data("show-vetted-quiz"))return this.trackVettedQuiz()},e.prototype.onClickTryQuiz=function(t){return i.with(this.$(i.selector("quizzes/intro_popup")),function(t){return t.launchPopover()}),!1},e.prototype.trackVettedQuiz=function(){return u.track("Vetted.ShowQuiz"),this.$(".js-start-quiz").click(function(){return u.track("Vetted.ClickQuiz")})},e}(n.View),new r({el:e,vent:c})},intro_popup:function(r,i){var s;return s=function(n){function r(){return r.__super__.constructor.apply(this,arguments)}return o(r,n),r.prototype.initialize=function(){return this.id=e.uniqueId("intro_popup_"),this.$el.prop("id",this.id)},r.prototype.launchPopover=function(){return t.facybox({div:"#"+this.id})},r.prototype.closePopover=function(){return t.facybox.close()},r}(n.View),new s({el:i,vent:c})}}}.apply(void 0,arguments[0])}.bind(this))}).call(e,n(33))}});